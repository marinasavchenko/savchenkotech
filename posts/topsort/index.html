<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Maryna Savchenko">
<meta name="description" content="Topological sort can be applied in scheduling problems.
Those types of problems can be solved when:
tasks and precedence constraints are defined; cycles are detected and removed. Implementation of cycle detection can be found here.
Test should check that reverse post order is correct.
@Test void shouldReturnPostOrder() { DirectedGraph directedGraph = new DirectedGraph(4); directedGraph.addEdge(1, 0); directedGraph.addEdge(0, 3); directedGraph.addEdge(1, 2); TopologicalSort topologicalSort = new TopologicalSort(directedGraph); LinkedList&amp;lt;Integer&amp;gt; expected = new LinkedList&amp;lt;&amp;gt;(Arrays.asList(3, 0, 2, 1)); assertEquals(expected, topologicalSort." />
<meta name="keywords" content=", algorithms, topological sort" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://savchenko.tech/posts/topsort/" />


    <title>
        
            Topological Sort. Algorithms Series :: savchenko.tech  — software engineering blog by Maryna Savchenko
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.ff8f2a433956f170ddcd89f51cdbe2f59e48e7aedac5eca668389b0b2816b84e.css">




    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="msapplication-TileColor" content="">


<meta itemprop="name" content="Topological Sort. Algorithms Series">
<meta itemprop="description" content="Topological sort can be applied in scheduling problems.
Those types of problems can be solved when:
tasks and precedence constraints are defined; cycles are detected and removed. Implementation of cycle detection can be found here.
Test should check that reverse post order is correct.
@Test void shouldReturnPostOrder() { DirectedGraph directedGraph = new DirectedGraph(4); directedGraph.addEdge(1, 0); directedGraph.addEdge(0, 3); directedGraph.addEdge(1, 2); TopologicalSort topologicalSort = new TopologicalSort(directedGraph); LinkedList&lt;Integer&gt; expected = new LinkedList&lt;&gt;(Arrays.asList(3, 0, 2, 1)); assertEquals(expected, topologicalSort."><meta itemprop="datePublished" content="2022-09-24T00:00:00+00:00" />
<meta itemprop="dateModified" content="2022-09-24T00:00:00+00:00" />
<meta itemprop="wordCount" content="212"><meta itemprop="image" content="https://savchenko.tech/" />
<meta itemprop="keywords" content="algorithms,topological sort," />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://savchenko.tech/" /><meta name="twitter:title" content="Topological Sort. Algorithms Series"/>
<meta name="twitter:description" content="Topological sort can be applied in scheduling problems.
Those types of problems can be solved when:
tasks and precedence constraints are defined; cycles are detected and removed. Implementation of cycle detection can be found here.
Test should check that reverse post order is correct.
@Test void shouldReturnPostOrder() { DirectedGraph directedGraph = new DirectedGraph(4); directedGraph.addEdge(1, 0); directedGraph.addEdge(0, 3); directedGraph.addEdge(1, 2); TopologicalSort topologicalSort = new TopologicalSort(directedGraph); LinkedList&lt;Integer&gt; expected = new LinkedList&lt;&gt;(Arrays.asList(3, 0, 2, 1)); assertEquals(expected, topologicalSort."/>



    <meta property="og:title" content="Topological Sort. Algorithms Series" />
<meta property="og:description" content="Topological sort can be applied in scheduling problems.
Those types of problems can be solved when:
tasks and precedence constraints are defined; cycles are detected and removed. Implementation of cycle detection can be found here.
Test should check that reverse post order is correct.
@Test void shouldReturnPostOrder() { DirectedGraph directedGraph = new DirectedGraph(4); directedGraph.addEdge(1, 0); directedGraph.addEdge(0, 3); directedGraph.addEdge(1, 2); TopologicalSort topologicalSort = new TopologicalSort(directedGraph); LinkedList&lt;Integer&gt; expected = new LinkedList&lt;&gt;(Arrays.asList(3, 0, 2, 1)); assertEquals(expected, topologicalSort." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://savchenko.tech/posts/topsort/" /><meta property="og:image" content="https://savchenko.tech/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-24T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-09-24T00:00:00+00:00" /><meta property="og:site_name" content="savchenko.tech" />







    <meta property="article:published_time" content="2022-09-24 00:00:00 &#43;0000 UTC" />










    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">savchenko.tech</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner">
            
            <div class="submenu">
                <li class="dropdown">
                    <a href="/about/">
                        About Maryna
                    </a>
                </li>
            </div>
            
        
            
            <div class="submenu">
                <li class="dropdown">
                    <a href="/contactinformation/">
                        Contact Information
                    </a>
                </li>
            </div>
            
        
            
            <div class="submenu">
                <li class="dropdown">
                    <a href="/posts/">
                        Posts
                    </a>
                </li>
            </div>
            
        
            
            <div class="submenu">
                <li class="dropdown">
                    <a href="/tags/">
                        Tags
                    </a>
                </li>
            </div>
            
        

    
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
                <span class="theme-toggle not-selectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
   <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
   3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
   13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
 </svg></span>
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <i class="fa-solid fa-clock"></i>
        One minute
        <i class="fa-solid fa-clipboard"></i>
        212 Words
        
      </p>
      <p>
        <i class="fa-solid fa-calendar-days"></i>
        
          2022-09-24
        

         
          
        
      </p>
      <p>
      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="https://savchenko.tech/tags/algorithms/">algorithms</a></span>
        <span class="tag"><a href="https://savchenko.tech/tags/topological-sort/">topological sort</a></span>
        
    </p>

      
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="https://savchenko.tech/posts/topsort/">Topological Sort. Algorithms Series</a>
      </h1>

      

      

      

      <div class="post-content">
        <p>Topological sort can be applied in scheduling problems.</p>
<p>Those types of problems can be solved when:</p>
<ul>
<li>tasks and precedence constraints are defined;</li>
<li>cycles are detected and removed.</li>
</ul>
<p>Implementation of cycle detection can be found <a href="https://github.com/marynasavchenko/algokata/blob/main/src/main/java/graph/CycleInDirectedGraph.java">here</a>.</p>
<p>Test should check that reverse post order is correct.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#a6e22e">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">shouldReturnPostOrder</span>() {
</span></span><span style="display:flex;"><span>        DirectedGraph directedGraph <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> DirectedGraph(4);
</span></span><span style="display:flex;"><span>        directedGraph.<span style="color:#a6e22e">addEdge</span>(1, 0);
</span></span><span style="display:flex;"><span>        directedGraph.<span style="color:#a6e22e">addEdge</span>(0, 3);
</span></span><span style="display:flex;"><span>        directedGraph.<span style="color:#a6e22e">addEdge</span>(1, 2);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        TopologicalSort topologicalSort <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> TopologicalSort(directedGraph);
</span></span><span style="display:flex;"><span>        LinkedList<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> expected <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> LinkedList<span style="color:#f92672">&lt;&gt;</span>(Arrays.<span style="color:#a6e22e">asList</span>(3, 0, 2, 1));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        assertEquals(expected, topologicalSort.<span style="color:#a6e22e">getReversePostOrder</span>());
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p><img src="../../images/topSort.png" alt="topSort.png"></p>
<p>This problem can be solved quite elegantly with the use of DFS (Depth First Search).
To get the reverse post order we need to put the vertex on stack (linked list) after the recursive call.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TopologicalSort</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">boolean</span><span style="color:#f92672">[]</span> visited;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> postOrder;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">TopologicalSort</span>(DirectedGraph graph) {
</span></span><span style="display:flex;"><span>        visited <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">boolean</span><span style="color:#f92672">[</span>graph.<span style="color:#a6e22e">getNumberOfVertices</span>()<span style="color:#f92672">]</span>;
</span></span><span style="display:flex;"><span>        postOrder <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> LinkedList<span style="color:#f92672">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> ver <span style="color:#f92672">=</span> 0; ver <span style="color:#f92672">&lt;</span> graph.<span style="color:#a6e22e">getNumberOfVertices</span>(); ver<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>visited<span style="color:#f92672">[</span>ver<span style="color:#f92672">]</span>) {
</span></span><span style="display:flex;"><span>                dfs(graph, ver);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">dfs</span>(DirectedGraph graph, <span style="color:#66d9ef">int</span> vertex) {
</span></span><span style="display:flex;"><span>        visited<span style="color:#f92672">[</span>vertex<span style="color:#f92672">]</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> conVer : graph.<span style="color:#a6e22e">getConnectionsFor</span>(vertex)) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>visited<span style="color:#f92672">[</span>conVer<span style="color:#f92672">]</span>) {
</span></span><span style="display:flex;"><span>                dfs(graph, conVer);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        postOrder.<span style="color:#a6e22e">add</span>(vertex);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">getReversePostOrder</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> postOrder;
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>Complete <a href="https://github.com/marynasavchenko/algokata/blob/main/src/main/java/graph/TopologicalSort.java">implementation</a>
with <a href="https://github.com/marynasavchenko/algokata/blob/main/src/test/java/graph/TopologicalSortTest.java">test cases</a> can be found on GitHub.</p>
<p>Sources:</p>
<ol>
<li><a href="https://www.amazon.de/Algorithms-Robert-Sedgewick/dp/032157351X/ref=asc_df_032157351X/?tag=googshopde-21&amp;linkCode=df0&amp;hvadid=310624385211&amp;hvpos=&amp;hvnetw=g&amp;hvrand=4744587760075123991&amp;hvpone=&amp;hvptwo=&amp;hvqmt=&amp;hvdev=c&amp;hvdvcmdl=&amp;hvlocint=&amp;hvlocphy=9042525&amp;hvtargid=pla-432981821009&amp;psc=1&amp;th=1&amp;psc=1&amp;tag=&amp;ref=&amp;adgrpid=64736366074&amp;hvpone=&amp;hvptwo=&amp;hvadid=310624385211&amp;hvpos=&amp;hvnetw=g&amp;hvrand=4744587760075123991&amp;hvqmt=&amp;hvdev=c&amp;hvdvcmdl=&amp;hvlocint=&amp;hvlocphy=9042525&amp;hvtargid=pla-432981821009">Algorithms by Robert Sedgewick</a>.</li>
<li><a href="https://www.amazon.de/Introduction-Algorithms-fourth-Thomas-Cormen/dp/026204630X/ref=asc_df_026204630X/?tag=googshopde-21&amp;linkCode=df0&amp;hvadid=526471224369&amp;hvpos=&amp;hvnetw=g&amp;hvrand=13700716644741673088&amp;hvpone=&amp;hvptwo=&amp;hvqmt=&amp;hvdev=c&amp;hvdvcmdl=&amp;hvlocint=&amp;hvlocphy=9042525&amp;hvtargid=pla-1268844537750&amp;psc=1&amp;th=1&amp;psc=1">Introduction to Algorithms by  Thomas H. Cormen, Charles E. Leiserson, Ronald L. Rivest, Clifford Stein</a>.</li>
</ol>

      </div>
    </article>
      <hr />
    <div class="post-info">
      
    <div class="pagination">
        
        <div class="pagination__title">
            <span class="pagination__title-h">Read other posts</span>
            <hr />
        </div>
        

        <div class="pagination__buttons">
            
            <span class="button previous">
                <a href="https://savchenko.tech/posts/springandkotlin/">
                    <span class="button__icon">←</span>
                    <span class="button__text">Kotlin. Elegance that We Missed in Java</span>
                </a>
            </span>
            

            
            <span class="button next">
                <a href="https://savchenko.tech/posts/linledlist/">
                    <span class="button__text">Linked List. Algorithms Series</span>
                    <span class="button__icon">→</span>
                </a>
            </span>
            
        </div>
    </div>

    </div>


    

    

  </main>

            </div>

            
                <footer class="footer">
    
    
    
        <div class="footer__inner">
          
        </div>
</footer>

            
        </div>

        



<script type="text/javascript" src="/bundle.min.5ee1ab43459d21e9512c2083459b5796fb878237404ac6c6cc916fb66997828afaba1f6f4e050e174e96d13c0a7df7bda9e4296a89ee19bb7ffa0a4129583cd2.js" integrity="sha512-XuGrQ0WdIelRLCCDRZtXlvuHgjdASsbGzJFvtmmXgor6uh9vTgUOF06W0TwKffe9qeQpaonuGbt/&#43;gpBKVg80g=="></script>



    </body>
</html>
