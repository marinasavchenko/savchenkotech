<!DOCTYPE html>
<html lang="en-us">
<head>





<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Hash table. Algorithms series - savchenko.tech</title>
<meta name="description" content="Hash table">

<meta name="author" content="">

<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png?c=39ddcf6ad74747f8f4e100a103a1cf48803694bb">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png?c=39ddcf6ad74747f8f4e100a103a1cf48803694bb">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png?c=39ddcf6ad74747f8f4e100a103a1cf48803694bb">
<link rel="alternate" href="/index.xml?c=39ddcf6ad74747f8f4e100a103a1cf48803694bb" type="application/rss+xml" title="RSS" />
<meta property="og:title" content="Hash table. Algorithms series - savchenko.tech">
</meta>
<meta property="og:url" content="https://savchenko.tech/posts/hashtable/">
<meta property="og:type" content="article">
<meta property="og:site_name" content="savchenko.tech">
<meta property="og:description" content="Hash table">

<meta property="og:image" content="https://savchenko.tech//images/featured_image.jpg">

<meta name="twitter:card" content="summary_large_image" /></meta>
<meta name="twitter:site" content="@"></meta>
<meta name="twitter:creator" content="@"></meta>
<meta name="twitter:title" content="Hash table. Algorithms series - savchenko.tech"></meta>
<meta name="twitter:url" content="https://savchenko.tech/posts/hashtable/"></meta>
<meta name="twitter:description" content="Hash table"></meta>

<meta property="og:image" content="https://savchenko.tech//images/featured_image.jpg">


<link rel="stylesheet" href="/css/main.css?c=39ddcf6ad74747f8f4e100a103a1cf48803694bb">
<link rel="stylesheet" href="/css/color.css?c=39ddcf6ad74747f8f4e100a103a1cf48803694bb">





<link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR|Roboto&amp;amp;subset=korean" rel="stylesheet"&gt;>

<style>
p{
font-family: '', Candara;
font-size: 115%
}
body {
font-family: '', Candara;
font-size: 115%
}
code {
font-family: '', Candara;
font-size: 115%
}
</style></head>

<body class="theme-default">


<div id="content-header" class="title">
  
  <a class="site-title" href="/">savchenko.tech</a>
  
  <span class="site-sub-title"> / software engineering blog by Maryna Savchenko</span>

  
  <div id="header-image-area">
    <img class="header-image" src="/images/header-image.jpg?c=39ddcf6ad74747f8f4e100a103a1cf48803694bb">
  </div>
  

  <div id="main-menu-nav">
    <div id="main-menu-nav-items">
      
        <div class="nav-item"><a href="/about/">About Maryna</a></div>
      
        <div class="nav-item"><a href="/posts/">Posts</a></div>
      
        <div class="nav-item"><a href="/tags/">Tags</a></div>
      
        <div class="nav-item"><a href="/contactinformation/">Contact Information</a></div>
      
    </div>
  </div>
</div>
<div id="content" class="main">




<h2>Hash table. Algorithms series</h2>

<span class="sub">2022-08-01</span>








<p>Dictionary operations (INSERT, SEARCH and DELETE) are required by many applications.
One very effective data structures for implementing dictionaries is hash table. The average time to search for an element 
in hash table is O(1).</p>
<p>Hash table ia unordered symbol table where key is interpreted as an array index and value associated with key &lsquo;i&rsquo; is stored
in array entry &lsquo;i&rsquo;.</p>
<p><img src="../../images/hashtable.png" alt="hashtable.png"></p>
<p>Two main parts in hash algorithm are hash function and collision resolution method.</p>
<h3 id="hash-function">HASH FUNCTION</h3>
<p>There are 3 primary requirements for implementing a good hash function:</p>
<ul>
<li>it should be consistent - equal keys must produce the same hash value.</li>
<li>it should be efficient to complete.</li>
<li>it should uniformly distribute the keys.</li>
</ul>
<p>We can check consistency and distribution with a simple test:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#a6e22e">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">shouldHashKey</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        HashTable<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> Integer<span style="color:#f92672">&gt;</span> hashTable <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HashTable<span style="color:#f92672">&lt;&gt;(</span>7<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> christianCode <span style="color:#f92672">=</span> hashTable<span style="color:#f92672">.</span><span style="color:#a6e22e">hash</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Christian&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        assertEquals<span style="color:#f92672">(</span>0<span style="color:#f92672">,</span> christianCode<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> davidCode <span style="color:#f92672">=</span> hashTable<span style="color:#f92672">.</span><span style="color:#a6e22e">hash</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;David&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        assertEquals<span style="color:#f92672">(</span>2<span style="color:#f92672">,</span> davidCode<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> aliceCode <span style="color:#f92672">=</span> hashTable<span style="color:#f92672">.</span><span style="color:#a6e22e">hash</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Alice&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        assertEquals<span style="color:#f92672">(</span>4<span style="color:#f92672">,</span> aliceCode<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> tomCode <span style="color:#f92672">=</span> hashTable<span style="color:#f92672">.</span><span style="color:#a6e22e">hash</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Tom&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        assertEquals<span style="color:#f92672">(</span>6<span style="color:#f92672">,</span> tomCode<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">hash</span><span style="color:#f92672">(</span>Key key<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> h <span style="color:#f92672">=</span> key<span style="color:#f92672">.</span><span style="color:#a6e22e">hashCode</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>        h <span style="color:#f92672">^=</span> <span style="color:#f92672">(</span>h <span style="color:#f92672">&gt;&gt;&gt;</span> 20<span style="color:#f92672">)</span> <span style="color:#f92672">^</span> <span style="color:#f92672">(</span>h <span style="color:#f92672">&gt;&gt;&gt;</span> 12<span style="color:#f92672">)</span> <span style="color:#f92672">^</span> <span style="color:#f92672">(</span>h <span style="color:#f92672">&gt;&gt;&gt;</span> 7<span style="color:#f92672">)</span> <span style="color:#f92672">^</span> <span style="color:#f92672">(</span>h <span style="color:#f92672">&gt;&gt;&gt;</span> 4<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> h <span style="color:#f92672">&amp;</span> <span style="color:#f92672">(</span>tableSize <span style="color:#f92672">-</span> 1<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span></code></pre></div><h3 id="collision-resolution">COLLISION RESOLUTION</h3>
<p>Collision resolution handles the case when two or more keys to be inserted hash to the same index.
Straightforward strategy for collision resolution is <strong>separate chaining</strong>.
For each index in array there is a data structure like Linked List or a Tree Map and keys from this data structure are 
hashed to this index.</p>
<p><img src="../../images/hashtable_sep_chain.png" alt="hashtable_sep_chain.png"></p>
<p>Implementation of this kind of hash table is not too complicated. 
So in test cases we need to check that:</p>
<ul>
<li>inserted value is present</li>
<li>deleted value is absent</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#a6e22e">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">insertedValueShouldBePresent</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        HashTable<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> Integer<span style="color:#f92672">&gt;</span> hashTable <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HashTable<span style="color:#f92672">&lt;&gt;(</span>5<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        hashTable<span style="color:#f92672">.</span><span style="color:#a6e22e">put</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Alice&#34;</span><span style="color:#f92672">,</span> 123654<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        assertEquals<span style="color:#f92672">(</span>123654<span style="color:#f92672">,</span> hashTable<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Alice&#34;</span><span style="color:#f92672">));</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">removedValueShouldBeAbsent</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        HashTable<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> Integer<span style="color:#f92672">&gt;</span> hashTable <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HashTable<span style="color:#f92672">&lt;&gt;(</span>5<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        hashTable<span style="color:#f92672">.</span><span style="color:#a6e22e">put</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Alice&#34;</span><span style="color:#f92672">,</span> 123654<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        hashTable<span style="color:#f92672">.</span><span style="color:#a6e22e">put</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;David&#34;</span><span style="color:#f92672">,</span> 456123<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        hashTable<span style="color:#f92672">.</span><span style="color:#a6e22e">delete</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Alice&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        assertNull<span style="color:#f92672">(</span>hashTable<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Alice&#34;</span><span style="color:#f92672">));</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">put</span><span style="color:#f92672">(</span>Key key<span style="color:#f92672">,</span> Value value<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>value <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            delete<span style="color:#f92672">(</span>key<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>keyValuePairsNumber <span style="color:#f92672">&gt;=</span> 10 <span style="color:#f92672">*</span> tableSize<span style="color:#f92672">)</span> resize<span style="color:#f92672">(</span>2 <span style="color:#f92672">*</span> tableSize<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> hash<span style="color:#f92672">(</span>key<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(!</span>chains<span style="color:#f92672">[</span>i<span style="color:#f92672">].</span><span style="color:#a6e22e">containsKey</span><span style="color:#f92672">(</span>key<span style="color:#f92672">))</span> keyValuePairsNumber<span style="color:#f92672">++;</span>
</span></span><span style="display:flex;"><span>        chains<span style="color:#f92672">[</span>i<span style="color:#f92672">].</span><span style="color:#a6e22e">put</span><span style="color:#f92672">(</span>key<span style="color:#f92672">,</span> value<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Value <span style="color:#a6e22e">get</span><span style="color:#f92672">(</span>Key key<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> hash<span style="color:#f92672">(</span>key<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> chains<span style="color:#f92672">[</span>i<span style="color:#f92672">].</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span>key<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">delete</span><span style="color:#f92672">(</span>Key key<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> hash<span style="color:#f92672">(</span>key<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>chains<span style="color:#f92672">[</span>i<span style="color:#f92672">].</span><span style="color:#a6e22e">containsKey</span><span style="color:#f92672">(</span>key<span style="color:#f92672">))</span> keyValuePairsNumber<span style="color:#f92672">--;</span>
</span></span><span style="display:flex;"><span>        chains<span style="color:#f92672">[</span>i<span style="color:#f92672">].</span><span style="color:#a6e22e">remove</span><span style="color:#f92672">(</span>key<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>keyValuePairsNumber <span style="color:#f92672">&lt;=</span> 2 <span style="color:#f92672">*</span> tableSize<span style="color:#f92672">)</span> resize<span style="color:#f92672">(</span>tableSize <span style="color:#f92672">/</span> 2<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span></code></pre></div><p>Complete <a href="https://github.com/marynasavchenko/algokata/blob/main/src/main/java/searching/HashTable.java">implementation</a>
with <a href="https://github.com/marynasavchenko/algokata/blob/main/src/test/java/searching/HashTableTest.java">test cases</a> can be found on my GitHub.</p>
<p>Sources:</p>
<ol>
<li><a href="https://www.amazon.de/Algorithms-Robert-Sedgewick/dp/032157351X/ref=asc_df_032157351X/?tag=googshopde-21&amp;linkCode=df0&amp;hvadid=310624385211&amp;hvpos=&amp;hvnetw=g&amp;hvrand=4744587760075123991&amp;hvpone=&amp;hvptwo=&amp;hvqmt=&amp;hvdev=c&amp;hvdvcmdl=&amp;hvlocint=&amp;hvlocphy=9042525&amp;hvtargid=pla-432981821009&amp;psc=1&amp;th=1&amp;psc=1&amp;tag=&amp;ref=&amp;adgrpid=64736366074&amp;hvpone=&amp;hvptwo=&amp;hvadid=310624385211&amp;hvpos=&amp;hvnetw=g&amp;hvrand=4744587760075123991&amp;hvqmt=&amp;hvdev=c&amp;hvdvcmdl=&amp;hvlocint=&amp;hvlocphy=9042525&amp;hvtargid=pla-432981821009">Algorithms by Robert Sedgewick</a>.</li>
<li><a href="https://www.amazon.de/Introduction-Algorithms-fourth-Thomas-Cormen/dp/026204630X/ref=asc_df_026204630X/?tag=googshopde-21&amp;linkCode=df0&amp;hvadid=526471224369&amp;hvpos=&amp;hvnetw=g&amp;hvrand=13700716644741673088&amp;hvpone=&amp;hvptwo=&amp;hvqmt=&amp;hvdev=c&amp;hvdvcmdl=&amp;hvlocint=&amp;hvlocphy=9042525&amp;hvtargid=pla-1268844537750&amp;psc=1&amp;th=1&amp;psc=1">Introduction to Algorithms by  Thomas H. Cormen, Charles E. Leiserson, Ronald L. Rivest, Clifford Stein</a>.</li>
</ol>






<hr class="block-separater">




<div class="content-footer-item">
	Tags for this post:
	
	<a class="post-tag" href="/tags/algorithms/">algorithms</a>
	
	<a class="post-tag" href="/tags/hash-table/">hash table</a>
	
</div>







<div class="content-footer-item neighbor">
	
	<div class="prev-post">Prev: <a href="/posts/rbbst2/">Red Black Binary Search Tree: Part 2 delete. Algorithms series</a></div>
	
	
	<div class="next-post">Next: <a href="/posts/dfs/">Depth First Search. Algorithms series</a></div>
	
</div>











    
    
    
    <div class="related-tag-category-list">
        <h4>Other posts tagged by "algorithms"</h3>
        <ul class="post-list">
          
          <li class="post-item">
  <div class="post-date sub">2022-09-24</div>
  <div class="post-title"><a href="/posts/topologicalsort/">Topological sort. Algorithms series</a></div>
  
</li>
          
          <li class="post-item">
  <div class="post-date sub">2022-09-10</div>
  <div class="post-title"><a href="/posts/linledlist/">Linked List. Algorithms series</a></div>
  
</li>
          
          <li class="post-item">
  <div class="post-date sub">2022-08-18</div>
  <div class="post-title"><a href="/posts/greedy/">Prim&#39;s algorithm. Greedy. Algorithms series</a></div>
  
</li>
          
        </ul>
        <div class="more-area">
          
          <a class="more" href='/tags/algorithms/'>more ...</a>
          
      </div>
        </div>
    

    
    
    




<script src="/js/single.js"></script>


	</div><div id="content-footer" class="sub">
  
  <div class="credit">
    Power by <a href="https://gohugo.io">Hugo</a> /
    Theme <a href="https://github.com/michimani/simplog/">simplog</a> by <a href="https://github.com/michimani/">michimani</a>
  </div>
</div></body>

</html>